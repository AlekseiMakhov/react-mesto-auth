{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","contexts/LoadingState.js","contexts/ValidationContext.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/PopupWithImage.js","components/PopupWithSubmit.js","utils/Api.js","utils/auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/App.js","index.js"],"names":["Header","isMobile","email","loggedIn","isSignInLocation","setSignInScreen","resetSignInScreen","handleSignOut","isExpanded","expand","className","cn","src","logo","alt","onClick","to","CurrentUserContext","createContext","Card","card","onCardClick","onLikeButtonClick","onCardDeleteClick","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","id","link","name","type","_","length","Main","onEditProfile","onEditAvatar","onAddPlace","onCardLike","onDeleteCard","cards","avatar","about","map","Footer","LoadingState","ValidationContext","PopupWithForm","title","children","isOpen","onClose","onSubmit","noClose","validationContext","loadingText","popup_opened","isValid","AddPlacePopup","onInput","useRef","useEffect","current","parentElement","reset","ref","minLength","maxLength","validation","placeholder","required","validationText","e","preventDefault","value","EditAvatarPopup","onUpdateAvatar","EditProfilePopup","onUpdateUser","useState","setName","setAbout","onChange","target","PopupWithImage","Фото","PopupWithSubmit","api","options","this","_headers","headers","_baseUrl","baseUrl","params","fetch","then","res","ok","json","Promise","reject","status","statusText","data","_sendRequest","method","body","JSON","stringify","srcLink","cardInfo","cardId","authorization","BASE_URL","Login","setOpen","onLogin","setEmail","password","setPassword","history","useHistory","response","token","localStorage","setItem","catch","err","console","log","authorize","push","error","Register","register","ProtectedRoute","Component","component","props","InfoTooltip","success","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isPopupWithSubmitOpen","setIsPopupWithSubmitOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setLoggedIn","selectedCard","setSelectedCard","setLoadingText","setCard","setCards","setCurrentUser","setIsSignInLocation","setvalidationContext","setSuccess","useMediaQuery","query","setIsExpanded","handleInput","validArr","textArr","index","Number","resValid","validity","valid","validationMessage","handleEscButton","key","closeAllPopups","stopPropagation","document","removeEventListener","all","getProfileInfo","getInitialCards","values","profileInfo","cardList","handleCheckToken","getItem","checkToken","location","pathname","infoToolTipOpen","Provider","removeItem","resetEmail","path","addEventListener","changeLikeStatus","newCard","newCards","c","userInfo","editProfileInfo","user","editAvatar","createNewCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d41b4d81.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import { Link } from 'react-router-dom';\r\nimport cn from 'classnames';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header({ isMobile, email, loggedIn, isSignInLocation, setSignInScreen, resetSignInScreen, handleSignOut, isExpanded, expand }) {\r\n\r\n    return (\r\n        !isMobile \r\n            ?   <header className=\"header\">\r\n                    <img className=\"header__logo\" src={logo} alt=\"Лого\" />\r\n                    <p className=\"header__text\">{email}</p>\r\n                    {loggedIn && <Link className=\"header__text\" onClick={handleSignOut} to='/signin'>Выйти</Link>}\r\n                    {!loggedIn && isSignInLocation && <Link className=\"header__text\" onClick={resetSignInScreen} to='/signup'>Регистрация</Link>}\r\n                    {!loggedIn && !isSignInLocation && <Link className=\"header__text\" onClick={setSignInScreen} to='/signin'>Войти</Link>}\r\n                </header>\r\n            \r\n            :   <header className={cn('header-mobile', { 'header-mobile__expanded': isExpanded })}>\r\n                    <img className=\"header-mobile__logo\" src={logo} alt=\"Лого\" />\r\n                    {isExpanded && <p className=\"header-mobile__text header-mobile__text_type_email\">{email}</p>}\r\n                    {loggedIn && isExpanded && <Link className={cn('header-mobile__text', { 'header-mobile__text_type_signout': isExpanded })} onClick={handleSignOut} to='/signin'>Выйти</Link>}\r\n                    {!loggedIn && isSignInLocation && <Link className=\"header-mobile__text\" onClick={resetSignInScreen} to='/signup'>Регистрация</Link>}\r\n                    {!loggedIn && !isSignInLocation && <Link className=\"header-mobile__text\" onClick={setSignInScreen} to='/signin'>Войти</Link>}\r\n                    {isExpanded && <div className='header-mobile__line'></div>}\r\n                    {loggedIn && <button className={cn('header-mobile__menu-button', { 'header-mobile__menu-button_type_close': isExpanded })} onClick={expand}></button>}\r\n                </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\nexport default CurrentUserContext;\n","import { useContext } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card({\n  card,\n  onCardClick,\n  onLikeButtonClick,\n  onCardDeleteClick,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n\n  function handleCardClick() {\n    onCardClick(card);\n  }\n\n  const cardDeleteButtonClassName = `element__trash-button ${isOwn ? 'element__trash-button_visible' : ''}`;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `like__button ${isLiked ? 'like__button_pressed' : ''}`;\n\n  return (\n        <>\n            <div className=\"element\" id={card.id}>\n                <img className=\"element__image\" src={card.link} alt={`${card.name}.Фото`} onClick={handleCardClick} />\n                <button type=\"button\" className={cardDeleteButtonClassName} onClick={(_) => onCardDeleteClick(card)}></button>\n                <h3 className=\"element__text\">{card.name}</h3>\n                <div className=\"like\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={(_) => onLikeButtonClick(card)}></button>\n                    <p className=\"like__count\">{card.likes.length}</p>\n                </div>\n            </div>\n        </>\n  );\n}\n\nexport default Card;\n","import { useContext } from 'react';\r\nimport Card from './Card';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onEditAvatar,\r\n  onAddPlace,\r\n  onCardClick,\r\n  onCardLike,\r\n  onDeleteCard,\r\n  cards\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n    \r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"avatar\" onClick={onEditAvatar}>\r\n                    <img className=\"avatar__img\" src={currentUser.avatar} alt=\"Аватар\" />\r\n                    <div className=\"avatar__edit-icon\"></div>\r\n                </div>\r\n                <div className=\"profile-info\">\r\n                    <div>\r\n                        <h1 className=\"profile-info__name\">{currentUser.name}</h1>\r\n                        <p className=\"profile-info__description\">{currentUser.about}</p>\r\n                    </div>\r\n                    <button type=\"button\" className=\"profile-info__edit-button\" onClick={onEditProfile}></button>\r\n                </div>\r\n                <button type=\"button\" className=\"add-image-button\" onClick={onAddPlace}></button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n\r\n                {cards.map((card) => (\r\n                        <Card\r\n                            key={card._id}\r\n                            card={card}\r\n                            onCardClick={onCardClick}\r\n                            onLikeButtonClick={onCardLike}\r\n                            onCardDeleteClick={onDeleteCard}\r\n                        />\r\n                ))}\r\n\r\n            </section>\r\n\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\n  return (\n        <footer className=\"footer\">\n            <p className=\"footer__logo\">© 2020 Mesto Russia</p>\n        </footer>\n  );\n}\n\nexport default Footer;\n","import { createContext } from 'react';\n\nconst LoadingState = createContext();\nexport default LoadingState;\n","import { createContext } from 'react';\n\nconst ValidationContext = createContext();\nexport default ValidationContext;\n","import cn from 'classnames';\nimport { useContext } from 'react';\nimport LoadingState from '../contexts/LoadingState';\nimport ValidationContext from '../contexts/ValidationContext';\n\nfunction PopupWithForm({\n  name,\n  title,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n  noClose,\n}) {\n  const validationContext = useContext(ValidationContext);\n  const loadingText = useContext(LoadingState);\n\n  return (\n        <>\n            <section className={cn(`popup popup_type_${name}`, { popup_opened: isOpen })} onClick={onClose}>\n                <form className=\"popup-form\" name={name} onSubmit={onSubmit} onClick={noClose}>\n                    <button type=\"button\" name=\"Закрыть\" className=\"popup-form__close-button\" onClick={onClose}></button>\n                    <h3 className=\"popup-form__title\">{title}</h3>\n                    {children}\n                    <button className={cn('popup-form__submit-button', { 'popup-form__submit-button_disabled': !validationContext.isValid })} >{loadingText}</button>\n                </form>\n            </section>\n        </>\n  );\n}\n\nexport default PopupWithForm;\n","import { useContext, useEffect, useRef } from 'react';\nimport cn from 'classnames';\nimport PopupWithForm from './PopupWithForm';\nimport ValidationContext from '../contexts/ValidationContext';\n\nfunction AddPlacePopup({\n  isOpen,\n  onClose,\n  onAddPlace,\n  noClose,\n  onInput,\n}) {\n  const validationContext = useContext(ValidationContext);\n\n  const link = useRef('');\n  const name = useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (validationContext.isValid) {\n      onAddPlace({\n        link: link.current.value,\n        name: name.current.value,\n      });\n    }\n  }\n\n  useEffect(_ => {\n    !isOpen && link.current.parentElement.reset();\n  }, [isOpen]);\n\n  return (\n        <PopupWithForm\n            name='place'\n            title='Новое место'\n            children={\n                <>\n                    <input onInput={onInput} ref={name} name=\"name\" id=\"0\" type=\"text\" minLength=\"1\" maxLength=\"40\" className={cn('popup-form__text-input', { 'popup-form__text-input_type_error': !validationContext.validation[0] })} placeholder=\"Название\" required />\n                    <span id=\"image-input-error\" className={cn('popup-form__error-text', { 'popup-form__error-text_show': !validationContext.validation[0] })}>{validationContext.validationText[0]}</span>\n                    <input onInput={onInput} ref={link} name=\"link\" id=\"1\" type=\"url\" className={cn('popup-form__text-input', { 'popup-form__text-input_type_error': !validationContext.validation[1] })} placeholder=\"Ссылка на картинку\" required />\n                    <span id=\"link-input-error\" className={cn('popup-form__error-text', { 'popup-form__error-text_show': !validationContext.validation[1] })}>{validationContext.validationText[1]}</span>\n                </>\n            }\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            noClose={noClose}\n        />\n  );\n}\n\nexport default AddPlacePopup;\n","import cn from 'classnames';\r\n\r\nimport { useContext, useEffect, useRef } from 'react';\r\nimport ValidationContext from '../contexts/ValidationContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateAvatar,\r\n  noClose,\r\n  onInput,\r\n}) {\r\n  const validationContext = useContext(ValidationContext);\r\n\r\n  const avatar = useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (validationContext.isValid) {\r\n      onUpdateAvatar({\r\n        avatar: avatar.current.value,\r\n      });\r\n    }\r\n  }\r\n\r\n  useEffect((_) => {\r\n    !isOpen && avatar.current.parentElement.reset();\r\n  }, [isOpen]);\r\n\r\n  return (\r\n        <PopupWithForm\r\n            name='avatar'\r\n            title='Обновить аватар'\r\n            children={\r\n                <>\r\n                    <input onInput={onInput} name=\"avatar\" ref={avatar} id=\"avatar0\" type=\"url\" className={cn('popup-form__text-input', { 'popup-form__text-input_type_error': !validationContext.validation[0] })} placeholder=\"Ссылка на картинку\" required />\r\n                    <span id=\"avatar-error\" className={cn('popup-form__error-text', { 'popup-form__error-text_show': !validationContext.validation[0] })}>{validationContext.validationText[0]}</span>\r\n                </>\r\n            }\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            noClose={noClose}\r\n        />\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useContext, useEffect, useState } from 'react';\r\nimport cn from 'classnames';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport ValidationContext from '../contexts/ValidationContext';\r\n\r\nfunction EditProfilePopup({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateUser,\r\n  noClose,\r\n  onInput,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const validationContext = useContext(ValidationContext);\r\n\r\n  const [name, setName] = useState(currentUser.name);\r\n  const [about, setAbout] = useState(currentUser.about);\r\n\r\n  useEffect((_) => {\r\n    setName(currentUser.name);\r\n    setAbout(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (validationContext.isValid) {\r\n      onUpdateUser({\r\n        name,\r\n        about,\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n        <PopupWithForm\r\n            name='profile'\r\n            title='Редактировать профиль'\r\n            children={\r\n            <>\r\n                <input onInput={onInput} name=\"name\" id=\"name0\" type=\"text\" minLength=\"2\" maxLength=\"40\" value={name} onChange={(e) => setName(e.target.value)} className={cn('popup-form__text-input', { 'popup-form__text-input_type_error': !validationContext.validation[0] })} placeholder=\"Имя\" required />\r\n                <span id=\"name-input-error\" className={cn('popup-form__error-text', { 'popup-form__error-text_show': !validationContext.validation[0] })}>{validationContext.validationText[0]}</span>\r\n                <input onInput={onInput} name=\"about\" id=\"about1\" type=\"text\" minLength=\"2\" maxLength=\"200\" value={about} onChange={(e) => setAbout(e.target.value)} className={cn('popup-form__text-input', { 'popup-form__text-input_type_error': !validationContext.validation[1] })} placeholder=\"О себе\" required />\r\n                <span id=\"about-input-error\" className={cn('popup-form__error-text', { 'popup-form__error-text_show': !validationContext.validation[1] })}>{validationContext.validationText[1]}</span>\r\n            </>\r\n            }\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            noClose={noClose}\r\n        />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import cn from 'classnames';\n\nfunction PopupWithImage({\n  isOpen,\n  onClose,\n  card,\n  noClose,\n}) {\n  return (\n        <section id=\"view-image\" className={cn('popup popup_type_dark', { popup_opened: isOpen })} onClick={onClose}>\n            <div className=\"popup-image\" onClick={noClose}>\n                <button type=\"button\" name=\"Закрыть\" className=\"popup-image__close-button\" onClick={onClose}></button>\n                <img className=\"popup-image__image\" src={card.link} alt={`${card.name}`.Фото} />\n                <h3 className=\"popup-image__title\">{card.name}</h3>\n            </div>\n        </section>\n  );\n}\n\nexport default PopupWithImage;\n","// import cn from 'classnames';\nimport PopupWithForm from './PopupWithForm';\n\nfunction PopupWithSubmit({\n  isOpen,\n  onClose,\n  noClose,\n  onDeleteCard,\n  card,\n}) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeleteCard(card);\n  }\n\n  return (\n        <PopupWithForm\n            name='submit'\n            title='Вы уверены?'\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            noClose={noClose}\n        />\n  );\n}\n\nexport default PopupWithSubmit;\n","class Api {\n  constructor(options) {\n    this._headers = options.headers; // Передаем заголовок\n    this._baseUrl = options.baseUrl; // Передаем базовый URL\n  }\n\n  _sendRequest(link, params) {\n    return fetch(link, params)\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status} - ${res.statusText}`);\n      });\n  }\n\n  // редактирование профиля\n  editProfileInfo(data) {\n    return this._sendRequest(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    });\n  }\n\n  // запрос данных профиля\n  getProfileInfo() {\n    return this._sendRequest(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    });\n  }\n\n  // редактирование аватара\n  editAvatar(srcLink) {\n    return this._sendRequest(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: srcLink,\n      }),\n    });\n  }\n\n  // отправка данных о новой карточке\n  createNewCard(cardInfo) {\n    return this._sendRequest(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: cardInfo.name,\n        link: cardInfo.link,\n      }),\n    });\n  }\n\n  // удаление карточки\n  deleteCard(cardId) {\n    return this._sendRequest(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    });\n  }\n\n  // ставим лайк\n  changeLikeStatus(cardId, isLiked) {\n    return this._sendRequest(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: (isLiked ? 'PUT' : 'DELETE'),\n      headers: this._headers,\n    });\n  }\n\n  // запрос массива карточек\n  getInitialCards() {\n    return this._sendRequest(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: '83172f60-a4ab-4f2a-9396-1325bbd21612',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ password, email })\r\n    })\r\n    .then((response => response.json()))\r\n    .then((data) => {\r\n      if (data.token){\r\n        localStorage.setItem('token', data.token);\r\n        return data;\r\n      }\r\n    })\r\n    .catch(err => console.log(err))\r\n  };\r\n\r\n  export const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ password, email })\r\n    })\r\n    .then((response) => { \r\n      return response.json();\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n    .catch((err) => console.log(err));\r\n  };\r\n  \r\n  export const checkToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .then(data => data)\r\n  }","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { authorize } from '../utils/auth';\r\n\r\nfunction Login({ setOpen, onLogin }) {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const history = useHistory();\r\n\r\n    const handleEmailInput = (e) => setEmail(e.target.value);\r\n    const handlePasswordInput = (e) => setPassword(e.target.value);\r\n\r\n    const handleSubmit = (e) =>  {\r\n        e.preventDefault();\r\n        if (!email || !password) {\r\n            return;\r\n        }\r\n        authorize(email, password)\r\n            .then((data) => {\r\n                if (data.token) {\r\n                    setEmail('');\r\n                    setPassword('');\r\n                    onLogin();\r\n                    history.push('/cards');\r\n                } else {\r\n                    setOpen(false);\r\n                    console.log(data.error);\r\n                }  \r\n            })\r\n            .catch(err => {console.log(err); \r\n                setOpen(false);\r\n            });\r\n    } \r\n\r\n    return (\r\n        <form name=\"login\" className=\"sign\" onSubmit={handleSubmit}>\r\n            <h2 className=\"sign__title\">Вход</h2>\r\n            <input name=\"email\" id=\"email\" type=\"email\" value={email} onChange={handleEmailInput} className='sign__input' placeholder=\"Email\" required />\r\n            <input name=\"password\" id=\"password\" type=\"password\" minLength=\"6\" value={password} onChange={handlePasswordInput} className='sign__input' placeholder=\"Пароль\" required />\r\n            <button type='submit' className='sign__button'>Войти</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { register } from '../utils/auth';\r\n\r\nfunction Register({ setOpen, setSignInScreen }) {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const history = useHistory();\r\n\r\n    const handleEmailInput = (e) => setEmail(e.target.value);\r\n    const handlePasswordInput = (e) => setPassword(e.target.value);\r\n\r\n    const handleSubmit = (e) =>  {\r\n        e.preventDefault();\r\n        if (!email || !password) {\r\n            return;\r\n        }\r\n        register(email, password)\r\n            .then((res) => {\r\n                if (res.data?._id) {\r\n                    setEmail('');\r\n                    setPassword('');\r\n                    setOpen(true);\r\n                    history.push('/signin');\r\n                    setSignInScreen();\r\n                }\r\n                else {\r\n                    setOpen(false);\r\n                    console.log(res.error);\r\n                }    \r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setOpen(false);\r\n            });\r\n    }\r\n\r\n    const onSignInClick = _ => {\r\n        history.push('/signin');\r\n        setSignInScreen();\r\n    }\r\n\r\n    return (\r\n        <form name=\"login\" className=\"sign\" onSubmit={handleSubmit}>\r\n            <h2 className=\"sign__title\">Регистрация</h2>\r\n            <input name=\"email\" id=\"email\" type=\"email\" value={email} onChange={handleEmailInput} className='sign__input' placeholder=\"Email\" required />\r\n            <input name=\"password\" id=\"password\" type=\"password\" minLength=\"6\" value={password} onChange={handlePasswordInput} className='sign__input' placeholder=\"Пароль\" required />\r\n            <button type='submit' className='sign__button'>Зарегистрироваться</button>\r\n            <p className=\"sign__text\" onClick={onSignInClick}>Уже зарегистрированы? Войти</p>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","import cn from 'classnames';\r\n\r\nfunction InfoTooltip({ \r\n    isOpen,\r\n    success, \r\n    noClose, \r\n    onClose \r\n}) \r\n\r\n{\r\n    return (\r\n        <section className={cn('popup', { 'popup_opened': isOpen })} onClick={onClose}>\r\n            <div className=\"popup-info\" onClick={noClose}>\r\n                <button type=\"button\" name=\"Закрыть\" className=\"popup-info__close-button\" onClick={onClose}></button>\r\n                <div className={cn('popup-info__icon', { 'popup-info__icon_type_abort': !success })}></div>\r\n                <p className=\"popup-info__message\">{success \r\n                                                            ? 'Вы успешно зарегистрировались!'\r\n                                                            : 'Что-то пошло не так! Попробуйте еще раз.'\r\n                }</p>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import { useState, useEffect } from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport PopupWithImage from './PopupWithImage';\r\nimport PopupWithSubmit from './PopupWithSubmit';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport ValidationContext from '../contexts/ValidationContext';\r\nimport LoadingState from '../contexts/LoadingState';\r\nimport api from '../utils/Api';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport { checkToken } from '../utils/auth';\r\nimport InfoTooltip from './InfoTooltip';\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isPopupWithSubmitOpen, setIsPopupWithSubmitOpen] = useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(false);\r\n  const [loadingText, setLoadingText] = useState('');\r\n  const [card, setCard] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [isSignInLocation, setIsSignInLocation] = useState(true);\r\n  const [email, setEmail] = useState('');\r\n  const [validationContext, setvalidationContext] = useState({ validation: [true, true], validationText: ['', ''], isValid: false });\r\n  const history = useHistory();\r\n  const [success, setSuccess] = useState(false);\r\n  const isMobile = useMediaQuery({ query: '(max-width: 620px)' });\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n  // Элементам, которые требуется валидировать, нужно выставить уникальные id, которые заканчиваются на цифру от 0 до 9\r\n  function handleInput(e) {\r\n    const validArr = validationContext.validation;\r\n    const textArr = validationContext.validationText;\r\n    const index = Number(e.target.id[e.target.id.length-1]);\r\n    let resValid = 0;\r\n\r\n    validArr[index] = e.target.validity.valid;\r\n    textArr[index] = e.target.validationMessage;\r\n\r\n    for (let i = 0; i < validArr.length; i++) {\r\n      resValid += Number(validArr[i]);\r\n    }\r\n\r\n    setvalidationContext({ validation: validArr, validationText: textArr, isValid: (resValid === validArr.length) });\r\n  }\r\n  // Закрытие модальных окон по Escape\r\n  function handleEscButton(e) {\r\n    if (e.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  // Открытие формы редактирования аватара\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n    setLoadingText('Изменить');\r\n    // Устанавливаем параметры контекста для валидации текущей формы\r\n    // validation - массив содержит число элементов = числу валидируемых элементов формы, принимает значение validity.valid\r\n    // validationText - массив содержит число элементов = числу валидируемых элементов формы, принимает значение validationMessage\r\n    // isValid - булева величина, содержит результат валидации всех полей, true - если все поля валидны\r\n    setvalidationContext({ validation: [true], validationText: [''], isValid: false });\r\n    document.addEventListener('keydown', handleEscButton);\r\n  }\r\n  // Открытие формы редактирования профиля\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n    setLoadingText('Сохранить');\r\n    // Устанавливаем параметры контекста для валидации текущей формы\r\n    setvalidationContext({ validation: [true, true], validationText: ['', ''], isValid: true });\r\n    document.addEventListener('keydown', handleEscButton);\r\n  }\r\n\r\n  // Открытие формы добавления карточки\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n    setLoadingText('Создать');\r\n    // Устанавливаем параметры контекста для валидации текущей формы\r\n    setvalidationContext({ validation: [true, true], validationText: ['', ''], isValid: false });\r\n    document.addEventListener('keydown', handleEscButton);\r\n  }\r\n  \r\n  // Отмена всплытия для закрытия по клику по оверлею\r\n  function noClose(e) {\r\n    e.stopPropagation();\r\n  }\r\n  // Клик по картинке, открытие увеличенной картинки\r\n  function handleCardClick(card) {\r\n    setSelectedCard(true);\r\n    setCard(card);\r\n    document.addEventListener('keydown', handleEscButton);\r\n  }\r\n  // Нажатие на кнопку удаления, открытие окна с подтверждением\r\n  function handleDeleteCardClick(card) {\r\n    setIsPopupWithSubmitOpen(true);\r\n    setLoadingText('Да');\r\n    setvalidationContext({ validation: [], validationText: [], isValid: true });\r\n    setCard(card);\r\n    document.addEventListener('keydown', handleEscButton);\r\n  }\r\n  // Чтение с сервера инфо пользователя, данных карточки\r\n  useEffect(() => {\r\n    Promise.all([\r\n      api.getProfileInfo(),\r\n      api.getInitialCards(),\r\n    ])\r\n      .then((values) => {\r\n        const [profileInfo, cardList] = values;\r\n        setCurrentUser(profileInfo);\r\n        setCards(cardList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  // Убрать/поставить лайк карточке\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api.changeLikeStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  // Удаление карточки\r\n  function handleDeleteCard(card) {\r\n    setLoadingText('Удаление...');\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  // Смена инфо пользователя\r\n  function handleUpdateUser(userInfo) {\r\n    setLoadingText('Сохранение...');\r\n    api.editProfileInfo(userInfo)\r\n      .then((userInfo) => {\r\n        setCurrentUser(userInfo);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  // Смена аватара\r\n  function handleUpdateAvatar(user) {\r\n    setLoadingText('Сохранение...');\r\n    api.editAvatar(user.avatar)\r\n      .then((userInfo) => {\r\n        setCurrentUser(userInfo);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  // Добавление карточки\r\n  function handleAddPlace(newCard) {\r\n    setLoadingText('Загрузка...');\r\n    api.createNewCard(newCard)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // Закрытие модальных окон, снятие слушателя Escape\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsPopupWithSubmitOpen(false);\r\n    setSelectedCard(false);\r\n    setIsInfoTooltipOpen(false);\r\n    document.removeEventListener('keydown', handleEscButton);\r\n    setvalidationContext({ validation: [], validationText: [], isValid: false });\r\n    setCard({});\r\n  }\r\n\r\n  // Вход в систему  \r\n  const handleLogin = _ => {\r\n    handleCheckToken()\r\n  }\r\n\r\n  // Выход из системы  \r\n  const handleSignOut = () => {\r\n      localStorage.removeItem('token');\r\n      setEmail('');\r\n      setLoggedIn(false);\r\n      setIsExpanded(false);\r\n  }\r\n\r\n  // Проверка токена  \r\n  const handleCheckToken = () => {\r\n    if (localStorage.getItem('token')){\r\n      const token = localStorage.getItem('token');\r\n      checkToken(token).then((res) => {\r\n        if (res.data?.email){\r\n            setLoggedIn(true)\r\n            setEmail(res.data.email)\r\n            history.push(\"/cards\");\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // Проверяем токен при загрузке страницы\r\n  useEffect(()=>{\r\n      handleCheckToken();\r\n  },[]);\r\n\r\n  useEffect(()=>{\r\n      setIsSignInLocation(history.location.pathname === '/signin')\r\n  },[]);\r\n\r\n  // Открываем всплывающее окошко\r\n  const infoToolTipOpen = (type) => {\r\n      setSuccess(type);\r\n      setIsInfoTooltipOpen(true);\r\n  }\r\n   \r\n  return (\r\n  // Оборачиваем в контекст текущего пользователя\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <Header \r\n                  isMobile={isMobile}\r\n                  isExpanded={isExpanded}\r\n                  email={email} \r\n                  loggedIn={loggedIn}\r\n                  isSignInLocation={isSignInLocation}\r\n                  setSignInScreen={()=>setIsSignInLocation(true)}\r\n                  resetSignInScreen={()=>setIsSignInLocation(false)}\r\n                  handleSignOut={handleSignOut}\r\n                  resetEmail={()=>setEmail('')}\r\n                  expand={()=>setIsExpanded(!isExpanded)}\r\n            />\r\n             {/* Оборачиваем в контекст стейта валидации */}\r\n            <ValidationContext.Provider value={validationContext}>\r\n\r\n                <Switch>\r\n                    <ProtectedRoute \r\n                        path=\"/cards\" \r\n                        loggedIn={loggedIn}  \r\n                        component={Main} \r\n                        onEditProfile={handleEditProfileClick}\r\n                        onEditAvatar={handleEditAvatarClick}\r\n                        onAddPlace={handleAddPlaceClick}\r\n                        onCardClick={handleCardClick}\r\n                        onCardLike={handleCardLike}\r\n                        onDeleteCard={handleDeleteCardClick}\r\n                        cards={cards}\r\n                    />\r\n                      \r\n                    <Route path=\"/signup\">\r\n                        <Register                             \r\n                            setOpen={infoToolTipOpen}\r\n                            setSignInScreen={()=>setIsSignInLocation(true)}\r\n                        />\r\n\r\n                    </Route>\r\n\r\n                    <Route path=\"/signin\">\r\n                        <Login \r\n                            setOpen={infoToolTipOpen}\r\n                            onLogin={handleLogin}\r\n                        />\r\n                    </Route>\r\n\r\n                    <Route path=\"/\">\r\n                        {loggedIn ? <Redirect to=\"/cards\" /> : <Redirect to=\"/signin\" />}\r\n                    </Route>\r\n                </Switch>   \r\n            \r\n                <Footer />\r\n\r\n           \r\n                <LoadingState.Provider value={loadingText}>\r\n                    <EditProfilePopup\r\n                        isOpen={isEditProfilePopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onUpdateUser={handleUpdateUser}\r\n                        noClose={noClose}\r\n                        onInput={handleInput}\r\n                    />\r\n\r\n                    <EditAvatarPopup\r\n                        isOpen={isEditAvatarPopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onUpdateAvatar={handleUpdateAvatar}\r\n                        noClose={noClose}\r\n                        onInput={handleInput}\r\n                    />\r\n\r\n                    <AddPlacePopup\r\n                        isOpen={isAddPlacePopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onAddPlace={handleAddPlace}\r\n                        noClose={noClose}\r\n                        onInput={handleInput}\r\n                    />\r\n\r\n                    <PopupWithSubmit\r\n                        isOpen={isPopupWithSubmitOpen}\r\n                        onClose={closeAllPopups}\r\n                        noClose={noClose}\r\n                        onDeleteCard={handleDeleteCard}\r\n                        card={card}\r\n                    />\r\n                  </LoadingState.Provider>\r\n              </ValidationContext.Provider>\r\n\r\n              <PopupWithImage\r\n                  isOpen={selectedCard}\r\n                  onClose={closeAllPopups}\r\n                  card={card}\r\n                  noClose={noClose}\r\n              />\r\n\r\n              <InfoTooltip\r\n                  success={success}\r\n                  isOpen={isInfoTooltipOpen}\r\n                  onClose={closeAllPopups}\r\n                  noClose={noClose}\r\n              />\r\n        </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}